<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>About Amplify</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
      background: linear-gradient(135deg, #333333 0%, #4a4a4a 100%);
      color: #ffffff;
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      overflow-y: auto;
      -webkit-app-region: drag;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      cursor: default;
    }

    .about-container {
      max-width: 600px;
      text-align: center;
      -webkit-app-region: no-drag;
    }

    .logo-container {
      margin-bottom: 16px;
    }

    .logo {
      width: 100px;
      height: 100px;
      border-radius: 20px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
    }

    h1 {
      font-size: 28px;
      font-weight: 600;
      margin-bottom: 6px;
      letter-spacing: -0.5px;
    }

    .version-info {
      font-size: 13px;
      opacity: 0.9;
      margin-bottom: 16px;
      line-height: 1.5;
    }

    .description {
      background: rgba(52, 53, 64, 0.3);
      backdrop-filter: blur(10px);
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 16px;
      text-align: left;
      line-height: 1.6;
      font-size: 13px;
      border: 1px solid rgba(52, 53, 64, 0.5);
    }

    .description p {
      margin-bottom: 10px;
    }

    .description p:last-child {
      margin-bottom: 0;
    }

    .credits {
      background: rgba(52, 53, 64, 0.2);
      backdrop-filter: blur(10px);
      border-radius: 12px;
      padding: 14px;
      margin-bottom: 16px;
      font-size: 12px;
      border: 1px solid rgba(52, 53, 64, 0.4);
    }

    .credits p {
      margin-bottom: 6px;
      line-height: 1.5;
    }

    .credits p:last-child {
      margin-bottom: 0;
    }

    .credits strong {
      font-weight: 600;
      opacity: 1;
    }

    .links {
      margin-top: 12px;
      font-size: 12px;
    }

    .link-button {
      background: none;
      border: none;
      color: #b5b6c5;
      text-decoration: underline;
      cursor: pointer;
      padding: 0;
      font-size: inherit;
      font-weight: 500;
      margin: 0 8px;
      transition: color 0.2s;
    }

    .link-button:hover {
      color: #d0d1db;
    }

    .link-button:focus {
      outline: 2px solid #9b9cad;
      outline-offset: 2px;
    }

    .link-button:focus:not(:focus-visible) {
      outline: none;
    }

    .link-button:focus-visible {
      outline: 2px solid #9b9cad;
      outline-offset: 2px;
    }

    .links span {
      opacity: 0.5;
      margin: 0 4px;
    }

    .button-container {
      margin-top: 16px;
    }

    button {
      background: rgba(52, 53, 64, 0.6);
      border: 1px solid rgba(52, 53, 64, 0.8);
      color: white;
      padding: 10px 40px;
      border-radius: 6px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
      -webkit-app-region: no-drag;
    }

    button:hover {
      background: rgba(52, 53, 64, 0.8);
      border-color: #343540;
    }

    button:active {
      transform: scale(0.98);
    }

    button:focus {
      outline: 2px solid #9b9cad;
      outline-offset: 2px;
    }

    button:focus:not(:focus-visible) {
      outline: none;
    }

    button:focus-visible {
      outline: 2px solid #9b9cad;
      outline-offset: 2px;
    }

    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border-width: 0;
    }
  </style>
</head>
<body>
  <div class="about-container" role="dialog" aria-labelledby="dialog-title" aria-describedby="dialog-description">
    <div class="logo-container">
      <img src="../assets/icon.png" alt="Amplify application icon" class="logo">
    </div>

    <h1 id="dialog-title">Amplify</h1>

    <div class="version-info">
      <div id="version">Version: 1.0.0</div>
      <div id="environment">Environment: Production</div>
    </div>

    <div class="description" id="dialog-description">
      <p><strong>Amplify</strong> is Vanderbilt University's open-source enterprise platform for generative AI, designed to empower organizations with the ability to innovate across disciplines. By offering a flexible and cost-efficient chat-based interface, Amplify allows users to experiment with and deploy generative AI solutions tailored to their specific needs.</p>

      <p>Its architecture supports vendor independence, ensuring that users can select and switch between a variety of AI models, such as those from OpenAI and Anthropic, without being locked into a single provider.</p>
    </div>

    <div class="credits">
      <p><strong>University of Montana Implementation</strong></p>
      <p>The University of Montana has implemented Amplify as its flagship generative AI tool, providing faculty, staff, and students with powerful AI capabilities. This desktop application was developed by UM to deliver an enhanced native experience to end-users, with persistent sessions and seamless environment switching.</p>
    </div>

    <div class="links">
      <button type="button" class="link-button" id="amplify-link" aria-label="Visit AmplifyGenAI website (opens in external browser)">
        AmplifyGenAI
      </button>
      <span aria-hidden="true">â€¢</span>
      <button type="button" class="link-button" id="um-link" aria-label="Visit University of Montana website (opens in external browser)">
        University of Montana
      </button>
    </div>

    <div class="button-container">
      <button id="close-btn" type="button" aria-label="Close About dialog">OK</button>
    </div>
  </div>

  <script>
    const { shell } = require('electron');
    const urlParams = new URLSearchParams(window.location.search);

    // Validate and sanitize parameters
    const allowedEnvironments = ['production', 'development'];
    const environment = allowedEnvironments.includes(urlParams.get('environment'))
      ? urlParams.get('environment')
      : 'production';

    const version = (urlParams.get('version') || '1.0.0').replace(/[^0-9.]/g, '');

    document.getElementById('version').textContent = `Version: ${version}`;
    document.getElementById('environment').textContent =
      `Environment: ${environment.charAt(0).toUpperCase() + environment.slice(1)}`;

    // Handle close button
    document.getElementById('close-btn').addEventListener('click', () => {
      window.close();
    });

    // Handle ESC key to close
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        window.close();
      }
    });

    // Handle external links
    document.getElementById('amplify-link').addEventListener('click', (e) => {
      e.preventDefault();
      shell.openExternal('https://www.amplifygenai.org/');
    });

    document.getElementById('um-link').addEventListener('click', (e) => {
      e.preventDefault();
      shell.openExternal('https://umontana.ai');
    });
  </script>
</body>
</html>
